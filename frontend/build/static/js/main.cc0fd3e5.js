/*! For license information please see main.cc0fd3e5.js.LICENSE.txt */
(()=>{var e={240:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,u=Object.defineProperty,r=Object.getOwnPropertyDescriptor,l=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},a=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var u,r=t.call(e,"constructor"),l=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!l)return!1;for(u in e);return"undefined"===typeof u||t.call(e,u)},i=function(e,t){u&&"__proto__"===t.name?u(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},o=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(r)return r(e,n).value}return e[n]};e.exports=function e(){var t,n,u,r,s,c,d=arguments[0],f=1,D=arguments.length,p=!1;for("boolean"===typeof d&&(p=d,d=arguments[1]||{},f=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});f<D;++f)if(null!=(t=arguments[f]))for(n in t)u=o(d,n),d!==(r=o(t,n))&&(p&&r&&(a(r)||(s=l(r)))?(s?(s=!1,c=u&&l(u)?u:[]):c=u&&a(u)?u:{},i(d,{name:n,newValue:e(p,c,r)})):"undefined"!==typeof r&&i(d,{name:n,newValue:r}));return d}},403:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,u=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,i=/^[;\s]*/,o=/^\s+|\s+$/g,s="";function c(e){return e?e.replace(o,s):s}e.exports=function(e,o){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];o=o||{};var d=1,f=1;function D(e){var t=e.match(n);t&&(d+=t.length);var u=e.lastIndexOf("\n");f=~u?e.length-u:f+e.length}function p(){var e={line:d,column:f};return function(t){return t.position=new h(e),F(),t}}function h(e){this.start=e,this.end={line:d,column:f},this.source=o.source}h.prototype.content=e;var m=[];function g(t){var n=new Error(o.source+":"+d+":"+f+": "+t);if(n.reason=t,n.filename=o.source,n.line=d,n.column=f,n.source=e,!o.silent)throw n;m.push(n)}function y(t){var n=t.exec(e);if(n){var u=n[0];return D(u),e=e.slice(u.length),n}}function F(){y(u)}function C(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;s!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,s===e.charAt(n-1))return g("End of comment missing");var u=e.slice(2,n-2);return f+=2,D(u),e=e.slice(n),f+=2,t({type:"comment",comment:u})}}function b(){var e=p(),n=y(r);if(n){if(v(),!y(l))return g("property missing ':'");var u=y(a),o=e({type:"declaration",property:c(n[0].replace(t,s)),value:u?c(u[0].replace(t,s)):s});return y(i),o}}return F(),function(){var e,t=[];for(C(t);e=b();)!1!==e&&(t.push(e),C(t));return t}()}},4:(e,t,n)=>{"use strict";var u=n(853),r=n(43),l=n(950);function a(e){var t="https://1070132c-1836-44b9-839f-410d8851049c.preview.emergentagent.com";(0,u.useEffect)((()=>{c(xe()),ke(),we(),Be(),Se(),Ne(),ze(),Le(),Oe()}),[]),(0,u.useEffect)((()=>{we()}),[E]),(0,u.useEffect)((()=>{Ae()}),[r]);const xe=()=>"session_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),Ae=()=>{var e;null===(e=be.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},ke=async()=>{try{const e=await fetch("".concat(Ee,"/api/status")),t=await e.json();f(t)}catch(e){console.error("Sistem durumu al\u0131namad\u0131:",e)}},we=async()=>{try{let e="".concat(Ee,"/api/documents");E&&"all"!==E&&(e+="?group_id=".concat(E));const t=await fetch(e),n=await t.json();t.ok?(p(n.documents||[]),n.statistics&&console.log("Document statistics:",n.statistics)):console.error("API Error:",n)}catch(e){console.error("Dok\xfcmanlar al\u0131namad\u0131:",e)}},Be=async()=>{try{const e=await fetch("".concat(Ee,"/api/groups")),t=await e.json();m(t.groups||[])}catch(e){console.error("Gruplar al\u0131namad\u0131:",e)}},Se=async()=>{H(!0);try{const e=await fetch("".concat(Ee,"/api/chat-sessions?limit=20")),t=await e.json();I(t.sessions||[])}catch(e){console.error("Chat ge\xe7mi\u015fi al\u0131namad\u0131:",e)}finally{H(!1)}},Ne=async()=>{try{const e=await fetch("".concat(Ee,"/api/recent-questions?limit=10")),t=await e.json();M(t.recent_questions||[])}catch(e){console.error("Son sorular al\u0131namad\u0131:",e)}},je=async(e,t)=>{try{i(!0);const n=await fetch("".concat(Ee,"/api/replay-question"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,question:t})}),u=await n.json();if(n.ok){const e={type:"user",content:t,timestamp:(new Date).toLocaleTimeString("tr-TR")},n={type:"ai",content:u.result.answer,contextFound:u.result.context_found,chunksCount:u.result.context_chunks_count,timestamp:(new Date).toLocaleTimeString("tr-TR")};l([e,n]),b("chat"),c(u.result.session_id),Se()}else alert("Hata: ".concat(u.detail||"Bilinmeyen hata"))}catch(n){alert("Soru tekrar \xe7al\u0131\u015ft\u0131r\u0131l\u0131rken hata: ".concat(n.message))}finally{i(!1)}},_e=async e=>{if(0!==A.length)try{const t=await fetch("".concat(Ee,"/api/documents/move"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({document_ids:A,group_id:e})}),n=await t.json();t.ok?(k([]),N(!1),we(),Be(),alert(n.message)):alert("Hata: ".concat(n.detail))}catch(t){alert("Ta\u015f\u0131ma hatas\u0131: ".concat(t.message))}else alert("L\xfctfen ta\u015f\u0131nacak dok\xfcmanlar\u0131 se\xe7in.")},Pe=async(e,t)=>{try{const n=await fetch("".concat(Ee,"/api/documents/").concat(e,"/download-original"));if(n.ok){const e=await n.blob(),u=window.URL.createObjectURL(e),r=document.createElement("a");r.href=u,r.download=t,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(u),document.body.removeChild(r)}else alert("Dosya indirilemedi")}catch(n){alert("Dosya indirme hatas\u0131: ".concat(n.message))}},Te=u.useCallback((()=>{let e;return t=>{clearTimeout(e),e=setTimeout((()=>{(async e=>{if(!e||e.length<3)return Q([]),void Y(!1);G(!0);try{const t=await fetch("".concat(Ee,"/api/suggest-questions?q=").concat(encodeURIComponent(e),"&limit=5")),n=await t.json();t.ok?(Q(n.suggestions||[]),Y(n.suggestions.length>0)):(Q([]),Y(!1))}catch(t){console.error("Soru \xf6nerisi al\u0131namad\u0131:",t),Q([]),Y(!1)}finally{G(!1)}})(t)}),300)}})(),[]),ze=async()=>{ee(!0);try{let n="".concat(Ee,"/api/favorites?limit=50");le&&"all"!==le&&(n+="&category=".concat(encodeURIComponent(le))),ie&&"all"!==ie&&(n+="&tag=".concat(encodeURIComponent(ie)));const u=await fetch(n),r=await u.json();var e,t;if(u.ok)Z(r.favorites||[]),ne((null===(e=r.statistics)||void 0===e?void 0:e.available_categories)||[]),re((null===(t=r.statistics)||void 0===t?void 0:t.available_tags)||[]);else console.error("Favoriler al\u0131namad\u0131:",r)}catch(n){console.error("Favoriler al\u0131namad\u0131:",n)}finally{ee(!1)}},Le=async()=>{fe(!0);try{let t="".concat(Ee,"/api/faq?limit=50");he&&"all"!==he&&(t+="&category=".concat(encodeURIComponent(he)));const n=await fetch(t),u=await n.json();var e;if(n.ok)ce(u.faq_items||[]),pe((null===(e=u.statistics)||void 0===e?void 0:e.available_categories)||[]);else console.error("FAQ al\u0131namad\u0131:",u)}catch(t){console.error("FAQ al\u0131namad\u0131:",t)}finally{fe(!1)}},Oe=async()=>{try{const e=await fetch("".concat(Ee,"/api/faq/analytics")),t=await e.json();e.ok?ye(t):console.error("FAQ analytics al\u0131namad\u0131:",t)}catch(e){console.error("FAQ analytics al\u0131namad\u0131:",e)}};return(0,ve.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,ve.jsx)("div",{className:"bg-white shadow-lg border-b border-gray-200",children:(0,ve.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ve.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,ve.jsx)("div",{className:"flex items-center space-x-4",children:(0,ve.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ve.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:(0,ve.jsx)("span",{className:"text-white font-bold text-lg",children:"KPA"})}),(0,ve.jsxs)("div",{children:[(0,ve.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Kurumsal Prosed\xfcr Asistan\u0131"}),(0,ve.jsx)("p",{className:"text-sm text-gray-600",children:"AI destekli dok\xfcman soru-cevap sistemi"})]})]})}),d&&(0,ve.jsxs)("div",{className:"hidden md:flex items-center space-x-4 text-sm",children:[(0,ve.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ve.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(d.faiss_index_ready?"bg-green-500":"bg-yellow-500")}),(0,ve.jsxs)("span",{className:"text-gray-700",children:[d.total_documents," Dok\xfcman"]})]}),(0,ve.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ve.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(d.total_chunks>0?"bg-green-500":"bg-gray-400")}),(0,ve.jsxs)("span",{className:"text-gray-700",children:[d.total_chunks," Metin Par\xe7as\u0131"]})]})]})]})})}),(0,ve.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6",children:(0,ve.jsxs)("div",{className:"flex space-x-1 bg-white rounded-lg p-1 shadow-sm",children:[(0,ve.jsx)("button",{onClick:()=>b("chat"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("chat"===v?"bg-blue-500 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"),children:"\ud83d\udcac Soru-Cevap"}),(0,ve.jsx)("button",{onClick:()=>{b("history"),Se()},className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("history"===v?"bg-blue-500 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"),children:"\ud83d\udcdc Soru Ge\xe7mi\u015fi"}),(0,ve.jsx)("button",{onClick:()=>{b("favorites"),ze()},className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("favorites"===v?"bg-blue-500 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"),children:"\u2b50 Favorilerim"}),(0,ve.jsx)("button",{onClick:()=>{b("faq"),Le(),Oe()},className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("faq"===v?"bg-blue-500 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"),children:"\u2753 S\u0131k Sorular"}),(0,ve.jsx)("button",{onClick:()=>b("documents"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("documents"===v?"bg-blue-500 text-white shadow-sm":"text-gray-700 hover:bg-gray-100"),children:"\ud83d\udcc1 Dok\xfcman Y\xf6netimi"})]})}),(0,ve.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:"chat"===v?(0,ve.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,ve.jsx)("div",{className:"lg:col-span-3",children:(0,ve.jsxs)("div",{className:"bg-white rounded-xl shadow-lg h-[600px] flex flex-col",children:[(0,ve.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,ve.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Sohbet"}),(0,ve.jsx)("button",{onClick:()=>{l([]),c(xe())},disabled:0===r.length,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"\ud83d\uddd1\ufe0f Temizle"})]}),(0,ve.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[0===r.length?(0,ve.jsxs)("div",{className:"text-center py-12",children:[(0,ve.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ve.jsx)("span",{className:"text-2xl",children:"\ud83e\udd16"})}),(0,ve.jsx)("p",{className:"text-gray-600 text-lg mb-2",children:"Merhaba! Ben Kurumsal Prosed\xfcr Asistan\u0131n\u0131z\u0131m."}),(0,ve.jsx)("p",{className:"text-gray-500",children:"Y\xfckledi\u011finiz dok\xfcmanlar hakk\u0131nda soru sorabilirsiniz."})]}):r.map(((e,t)=>(0,ve.jsx)("div",{className:"flex ".concat("user"===e.type?"justify-end":"justify-start"),children:(0,ve.jsxs)("div",{className:"max-w-3xl rounded-2xl px-4 py-3 ".concat("user"===e.type?"bg-blue-500 text-white":"error"===e.type?"bg-red-100 text-red-800 border border-red-200":"bg-gray-100 text-gray-900"),children:["ai"===e.type?(0,ve.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,ve.jsx)(Nu,{components:{h1:e=>{let{children:t}=e;return(0,ve.jsx)("h1",{className:"text-lg font-bold text-gray-900 mb-2",children:t})},h2:e=>{let{children:t}=e;return(0,ve.jsx)("h2",{className:"text-base font-bold text-gray-900 mb-2",children:t})},h3:e=>{let{children:t}=e;return(0,ve.jsx)("h3",{className:"text-sm font-bold text-gray-900 mb-1",children:t})},strong:e=>{let{children:t}=e;return(0,ve.jsx)("strong",{className:"font-bold text-gray-900",children:t})},p:e=>{let{children:t}=e;return(0,ve.jsx)("p",{className:"mb-2 last:mb-0",children:t})},ul:e=>{let{children:t}=e;return(0,ve.jsx)("ul",{className:"list-disc list-inside mb-2 space-y-1",children:t})},ol:e=>{let{children:t}=e;return(0,ve.jsx)("ol",{className:"list-decimal list-inside mb-2 space-y-1",children:t})},li:e=>{let{children:t}=e;return(0,ve.jsx)("li",{className:"text-gray-900",children:t})},a:e=>{let{href:t,children:n}=e;return t&&t.startsWith("/api/documents/")?(0,ve.jsx)("button",{onClick:()=>{(e=>{const t=D.find((t=>t.id===e));t?Pe(e,t.filename):alert("Dok\xfcman bulunamad\u0131")})(t.replace("/api/documents/",""))},className:"text-blue-600 hover:text-blue-800 underline font-medium cursor-pointer",children:n}):(0,ve.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:n})},hr:()=>(0,ve.jsx)("hr",{className:"my-4 border-gray-300"})},children:e.content})}):(0,ve.jsx)("p",{className:"whitespace-pre-wrap",children:e.content}),(0,ve.jsxs)("div",{className:"flex justify-between items-center mt-2 text-xs opacity-70",children:[(0,ve.jsx)("span",{children:e.timestamp}),(0,ve.jsxs)("div",{className:"flex items-center space-x-2",children:["ai"===e.type&&e.contextFound&&(0,ve.jsxs)("span",{className:"bg-white bg-opacity-20 px-2 py-1 rounded",children:[e.chunksCount," kaynak kullan\u0131ld\u0131"]}),"ai"===e.type&&(0,ve.jsx)("button",{onClick:()=>{const t=r.indexOf(e),n=t>0?r[t-1]:null,u=n&&"user"===n.type?n.content:"Bilinmeyen soru";(async e=>{try{const t=await fetch("".concat(Ee,"/api/favorites"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:o,question:e.originalQuestion||e.content,answer:e.content,source_documents:e.sourceDocuments||[]})}),n=await t.json();t.ok?(alert(n.message),n.already_exists||ze()):alert("Hata: ".concat(n.detail||"Bilinmeyen hata"))}catch(t){alert("Favoriye eklenirken hata: ".concat(t.message))}})(s(s({},e),{},{originalQuestion:u}))},className:"bg-white bg-opacity-20 hover:bg-opacity-30 px-2 py-1 rounded transition-colors",title:"Favoriye Ekle",children:"\u2b50"})]})]})]})},t))),a&&(0,ve.jsx)("div",{className:"flex justify-start",children:(0,ve.jsx)("div",{className:"bg-gray-100 rounded-2xl px-4 py-3 max-w-xs",children:(0,ve.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ve.jsxs)("div",{className:"flex space-x-1",children:[(0,ve.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,ve.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,ve.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,ve.jsx)("span",{className:"text-gray-600 text-sm",children:"Cevap haz\u0131rlan\u0131yor..."})]})})}),(0,ve.jsx)("div",{ref:be})]}),(0,ve.jsx)("div",{className:"border-t border-gray-200 p-6",children:(0,ve.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),!t.trim())return void alert("L\xfctfen bir soru yaz\u0131n.");const u={type:"user",content:t,timestamp:(new Date).toLocaleTimeString("tr-TR")};l((e=>[...e,u])),i(!0);try{const e=await fetch("".concat(Ee,"/api/ask-question"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t,session_id:o})}),n=await e.json();if(!e.ok)throw new Error(n.detail||"Bilinmeyen hata");{const e={type:"ai",content:n.answer,contextFound:n.context_found,chunksCount:n.context_chunks_count,timestamp:(new Date).toLocaleTimeString("tr-TR")};l((t=>[...t,e]))}}catch(r){const e={type:"error",content:"Hata: ".concat(r.message),timestamp:(new Date).toLocaleTimeString("tr-TR")};l((t=>[...t,e]))}finally{i(!1),n("")}},className:"relative",children:(0,ve.jsxs)("div",{className:"flex space-x-4",children:[(0,ve.jsxs)("div",{className:"flex-1 relative",children:[(0,ve.jsx)("input",{type:"text",value:t,onChange:e=>{const t=e.target.value;n(t),Te(t)},onFocus:()=>{$.length>0&&Y(!0)},onBlur:()=>{setTimeout((()=>{Y(!1)}),150)},placeholder:"Prosed\xfcrler hakk\u0131nda soru sorun...",disabled:a,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"}),W&&($.length>0||K)&&(0,ve.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:K?(0,ve.jsxs)("div",{className:"p-3 text-center text-gray-500",children:[(0,ve.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mx-auto mb-2"}),"\xd6neriler y\xfckleniyor..."]}):(0,ve.jsxs)("div",{className:"py-1",children:[(0,ve.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 bg-gray-50 border-b",children:"\ud83d\udca1 Soru \xd6nerileri"}),$.map(((e,t)=>(0,ve.jsx)("button",{type:"button",onClick:()=>(e=>{n(e.text),Y(!1),Q([])})(e),className:"w-full text-left px-3 py-2 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0",children:(0,ve.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,ve.jsx)("span",{className:"text-sm mt-0.5",children:e.icon}),(0,ve.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ve.jsx)("p",{className:"text-sm text-gray-900 line-clamp-2",children:e.text}),(0,ve.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,ve.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs ".concat("similar"===e.type?"bg-blue-100 text-blue-800":"partial"===e.type?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"),children:"similar"===e.type?"Benzer":"partial"===e.type?"K\u0131smi":"\xd6nerilen"}),(0,ve.jsxs)("span",{className:"text-xs text-gray-500",children:[Math.round(100*e.similarity),"% uyumlu"]})]})]})]})},t)))]})})]}),(0,ve.jsxs)("button",{type:"submit",disabled:a||!t.trim(),className:"px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[(0,ve.jsx)("span",{children:"G\xf6nder"}),(0,ve.jsx)("span",{children:"\ud83d\ude80"})]})]})})})]})}),(0,ve.jsxs)("div",{className:"space-y-6",children:[d&&(0,ve.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ve.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sistem Durumu"}),(0,ve.jsxs)("div",{className:"space-y-3",children:[(0,ve.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ve.jsx)("span",{className:"text-gray-600",children:"Dok\xfcmanlar"}),(0,ve.jsx)("span",{className:"font-semibold text-blue-600",children:d.total_documents})]}),(0,ve.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ve.jsx)("span",{className:"text-gray-600",children:"Metin Par\xe7alar\u0131"}),(0,ve.jsx)("span",{className:"font-semibold text-green-600",children:d.total_chunks})]}),(0,ve.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ve.jsx)("span",{className:"text-gray-600",children:"AI Modeli"}),(0,ve.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(d.embedding_model_loaded?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:d.embedding_model_loaded?"Haz\u0131r":"Y\xfcklenmedi"})]}),(0,ve.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ve.jsx)("span",{className:"text-gray-600",children:"Arama \u0130ndeksi"}),(0,ve.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(d.faiss_index_ready?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:d.faiss_index_ready?"Aktif":"Haz\u0131rlan\u0131yor"})]}),d.supported_formats&&(0,ve.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ve.jsx)("span",{className:"text-gray-600",children:"Desteklenen Formatlar"}),(0,ve.jsx)("span",{className:"text-xs font-medium text-gray-700",children:d.supported_formats.join(", ").toUpperCase()})]}),void 0!==d.processing_queue&&(0,ve.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ve.jsx)("span",{className:"text-gray-600",children:"\u0130\u015flem Kuyru\u011fu"}),(0,ve.jsx)("span",{className:"font-semibold ".concat(d.processing_queue>0?"text-orange-600":"text-gray-600"),children:d.processing_queue})]})]})]}),(0,ve.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ve.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udca1 \u0130pu\xe7lar\u0131"}),(0,ve.jsxs)("div",{className:"space-y-3 text-sm text-gray-600",children:[(0,ve.jsx)("p",{children:"\u2022 Spesifik sorular sorun"}),(0,ve.jsx)("p",{children:"\u2022 Dok\xfcman adlar\u0131n\u0131 kullan\u0131n"}),(0,ve.jsx)("p",{children:"\u2022 Farkl\u0131 kelimelerle deneyin"}),(0,ve.jsx)("p",{children:"\u2022 K\u0131sa ve net c\xfcmleler kurun"})]})]})]})]}):"history"===v?(0,ve.jsxs)("div",{className:"space-y-6",children:[(0,ve.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ve.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ve.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\ud83d\udcdc Soru Ge\xe7mi\u015fi"}),(0,ve.jsxs)("button",{onClick:Se,disabled:U,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 transition-colors",children:["\ud83d\udd04 ",U?"Y\xfckleniyor...":"Yenile"]})]}),R.length>0&&(0,ve.jsxs)("div",{className:"mb-6",children:[(0,ve.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"\u26a1 Son Sorular\u0131m"}),(0,ve.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:R.slice(0,6).map(((e,t)=>(0,ve.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>je(e.session_id,e.question),children:[(0,ve.jsx)("p",{className:"text-sm text-gray-900 line-clamp-2",children:e.question}),(0,ve.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.created_at).toLocaleDateString("tr-TR")})]},t)))})]})]}),(0,ve.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ve.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udccb T\xfcm Konu\u015fmalar\u0131m"}),U?(0,ve.jsxs)("div",{className:"text-center py-8",children:[(0,ve.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,ve.jsx)("p",{className:"text-gray-600",children:"Ge\xe7mi\u015f y\xfckleniyor..."})]}):0===O.length?(0,ve.jsxs)("div",{className:"text-center py-12",children:[(0,ve.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ve.jsx)("span",{className:"text-2xl",children:"\ud83d\udcdc"})}),(0,ve.jsx)("p",{className:"text-gray-600",children:"Hen\xfcz soru ge\xe7mi\u015finiz bulunmuyor."}),(0,ve.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Sorular sorduk\xe7a burada g\xf6r\xfcnecek."})]}):(0,ve.jsx)("div",{className:"space-y-4",children:O.map(((e,t)=>(0,ve.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,ve.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ve.jsxs)("div",{className:"flex-1",children:[(0,ve.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.latest_question}),(0,ve.jsxs)("p",{className:"text-sm text-gray-600 line-clamp-2",children:[e.latest_answer,"..."]})]}),(0,ve.jsxs)("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[(0,ve.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.latest_created_at).toLocaleDateString("tr-TR")}),e.has_sources&&(0,ve.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"\ud83d\udcda Kaynakl\u0131"})]})]}),(0,ve.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ve.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,ve.jsxs)("span",{children:["\ud83d\udcac ",e.message_count," mesaj"]}),e.source_documents&&e.source_documents.length>0&&(0,ve.jsxs)("span",{children:["\ud83d\udcc4 ",e.source_documents.length," kaynak"]})]}),(0,ve.jsxs)("div",{className:"flex space-x-2",children:[(0,ve.jsx)("button",{onClick:()=>je(e.session_id,e.latest_question),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"\ud83d\udd04 Tekrar Sor"}),(0,ve.jsx)("button",{onClick:()=>(async e=>{try{const t=await fetch("".concat(Ee,"/api/chat-history/").concat(e)),n=await t.json();if(t.ok){const t=[];n.chat_history.forEach((e=>{var n;t.push({type:"user",content:e.question,timestamp:new Date(e.created_at).toLocaleTimeString("tr-TR")}),t.push({type:"ai",content:e.answer,contextFound:!0,chunksCount:(null===(n=e.context_chunks)||void 0===n?void 0:n.length)||0,timestamp:new Date(e.created_at).toLocaleTimeString("tr-TR")})})),l(t),q(e),b("chat")}else alert("Session ge\xe7mi\u015fi al\u0131namad\u0131.")}catch(t){alert("Ge\xe7mi\u015f g\xf6r\xfcnt\xfclenirken hata: ".concat(t.message))}})(e.session_id),className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"\ud83d\udc41\ufe0f G\xf6r\xfcnt\xfcle"})]})]})]},e.session_id)))})]})]}):"favorites"===v?(0,ve.jsxs)("div",{className:"space-y-6",children:[(0,ve.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ve.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ve.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\u2b50 Favori Sorular\u0131m"}),(0,ve.jsx)("div",{className:"flex space-x-2",children:(0,ve.jsxs)("button",{onClick:ze,disabled:J,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 transition-colors",children:["\ud83d\udd04 ",J?"Y\xfckleniyor...":"Yenile"]})})]}),(0,ve.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,ve.jsxs)("div",{className:"flex-1 min-w-48",children:[(0,ve.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori"}),(0,ve.jsxs)("select",{value:le,onChange:e=>{ae(e.target.value),setTimeout((()=>ze()),100)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ve.jsx)("option",{value:"all",children:"T\xfcm Kategoriler"}),te.map(((e,t)=>(0,ve.jsx)("option",{value:e,children:e},t)))]})]}),(0,ve.jsxs)("div",{className:"flex-1 min-w-48",children:[(0,ve.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Etiket"}),(0,ve.jsxs)("select",{value:ie,onChange:e=>{oe(e.target.value),setTimeout((()=>ze()),100)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ve.jsx)("option",{value:"all",children:"T\xfcm Etiketler"}),ue.map(((e,t)=>(0,ve.jsx)("option",{value:e,children:e},t)))]})]})]})]}),(0,ve.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ve.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udc9d Kay\u0131tl\u0131 Favorilerim"}),J?(0,ve.jsxs)("div",{className:"text-center py-8",children:[(0,ve.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,ve.jsx)("p",{className:"text-gray-600",children:"Favoriler y\xfckleniyor..."})]}):0===X.length?(0,ve.jsxs)("div",{className:"text-center py-12",children:[(0,ve.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ve.jsx)("span",{className:"text-2xl",children:"\u2b50"})}),(0,ve.jsx)("p",{className:"text-gray-600",children:"Hen\xfcz favori sorunuz bulunmuyor."}),(0,ve.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Be\u011fendi\u011finiz cevaplar\u0131 favorilere ekleyerek burada kolayca eri\u015febilirsiniz."})]}):(0,ve.jsx)("div",{className:"space-y-4",children:X.map(((e,t)=>(0,ve.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,ve.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ve.jsxs)("div",{className:"flex-1",children:[(0,ve.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.question}),(0,ve.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:e.answer_preview}),(0,ve.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[e.category&&(0,ve.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:["\ud83d\udcc1 ",e.category]}),e.tags&&e.tags.map(((e,t)=>(0,ve.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-purple-100 text-purple-800",children:["\ud83c\udff7\ufe0f ",e]},t))),e.source_documents&&e.source_documents.length>0&&(0,ve.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:["\ud83d\udcda ",e.source_documents.length," kaynak"]})]})]}),(0,ve.jsxs)("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[(0,ve.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString("tr-TR")}),(0,ve.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-yellow-100 text-yellow-800",children:["\u2b50 ",e.favorite_count]})]})]}),e.notes&&(0,ve.jsx)("div",{className:"mb-3 p-2 bg-yellow-50 rounded border-l-4 border-yellow-200",children:(0,ve.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,ve.jsx)("span",{className:"font-medium",children:"\ud83d\udcdd Not:"})," ",e.notes]})}),(0,ve.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ve.jsx)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:e.last_accessed&&(0,ve.jsxs)("span",{children:["\ud83d\udc41\ufe0f Son eri\u015fim: ",new Date(e.last_accessed).toLocaleDateString("tr-TR")]})}),(0,ve.jsxs)("div",{className:"flex space-x-2",children:[(0,ve.jsx)("button",{onClick:()=>(async(e,t)=>{try{i(!0);const n=await fetch("".concat(Ee,"/api/favorites/").concat(e,"/replay"),{method:"POST"}),u=await n.json();if(n.ok){const e={type:"user",content:t,timestamp:(new Date).toLocaleTimeString("tr-TR")},n={type:"ai",content:u.result.answer,contextFound:u.result.context_found,chunksCount:u.result.context_chunks_count,timestamp:(new Date).toLocaleTimeString("tr-TR")};l([e,n]),b("chat"),c(u.result.session_id)}else alert("Hata: ".concat(u.detail||"Bilinmeyen hata"))}catch(n){alert("Favori soru tekrar \xe7al\u0131\u015ft\u0131r\u0131l\u0131rken hata: ".concat(n.message))}finally{i(!1)}})(e.id,e.question),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"\ud83d\udd04 Tekrar Sor"}),(0,ve.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Bu favori soruyu silmek istedi\u011finizden emin misiniz?"))try{const t=await fetch("".concat(Ee,"/api/favorites/").concat(e),{method:"DELETE"}),n=await t.json();t.ok?(alert(n.message),ze()):alert("Hata: ".concat(n.detail||"Bilinmeyen hata"))}catch(t){alert("Favori silinirken hata: ".concat(t.message))}})(e.id),className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"\ud83d\uddd1\ufe0f Sil"})]})]})]},e.id)))})]})]}):"faq"===v?(0,ve.jsxs)("div",{className:"space-y-6",children:[(0,ve.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ve.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ve.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\u2753 S\u0131k Sorulan Sorular"}),(0,ve.jsxs)("div",{className:"flex space-x-2",children:[(0,ve.jsxs)("button",{onClick:async()=>{if(window.confirm("Mevcut chat ge\xe7mi\u015finden otomatik FAQ olu\u015fturulsun mu? Bu i\u015flem biraz s\xfcrebilir.")){Ce(!0);try{const e=await fetch("".concat(Ee,"/api/faq/generate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({min_frequency:2,similarity_threshold:.7,max_faq_items:50})}),t=await e.json();e.ok?(alert(t.message),Le(),Oe()):alert("Hata: ".concat(t.detail||"Bilinmeyen hata"))}catch(e){alert("FAQ olu\u015fturulurken hata: ".concat(e.message))}finally{Ce(!1)}}},disabled:Fe,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 transition-colors",children:["\ud83e\udd16 ",Fe?"Olu\u015fturuluyor...":"Otomatik FAQ Olu\u015ftur"]}),(0,ve.jsxs)("button",{onClick:()=>{Le(),Oe()},disabled:de,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 transition-colors",children:["\ud83d\udd04 ",de?"Y\xfckleniyor...":"Yenile"]})]})]}),ge&&(0,ve.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,ve.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"\ud83d\udcca FAQ Analytics"}),(0,ve.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,ve.jsxs)("div",{className:"text-center",children:[(0,ve.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:ge.total_questions_analyzed}),(0,ve.jsx)("div",{className:"text-sm text-gray-600",children:"Toplam Soru"})]}),(0,ve.jsxs)("div",{className:"text-center",children:[(0,ve.jsx)("div",{className:"text-2xl font-bold text-green-600",children:ge.total_chat_sessions}),(0,ve.jsx)("div",{className:"text-sm text-gray-600",children:"Chat Session"})]}),(0,ve.jsxs)("div",{className:"text-center",children:[(0,ve.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:null===(e=ge.faq_recommendations)||void 0===e?void 0:e.potential_faq_count}),(0,ve.jsx)("div",{className:"text-sm text-gray-600",children:"Potansiyel FAQ"})]}),(0,ve.jsxs)("div",{className:"text-center",children:[(0,ve.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:Object.keys(ge.category_distribution||{}).length}),(0,ve.jsx)("div",{className:"text-sm text-gray-600",children:"Kategori"})]})]}),ge.top_questions&&ge.top_questions.length>0&&(0,ve.jsxs)("div",{className:"mt-4",children:[(0,ve.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"\ud83d\udd25 En S\u0131k Sorulananlar:"}),(0,ve.jsx)("div",{className:"space-y-1",children:ge.top_questions.slice(0,3).map(((e,t)=>(0,ve.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,ve.jsx)("span",{className:"text-gray-700 line-clamp-1",children:e[0]}),(0,ve.jsxs)("span",{className:"text-blue-600 font-medium",children:[e[1],"x"]})]},t)))})]})]}),(0,ve.jsxs)("div",{className:"mb-6",children:[(0,ve.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori Filtresi"}),(0,ve.jsxs)("select",{value:he,onChange:e=>{me(e.target.value),setTimeout((()=>Le()),100)},className:"w-full max-w-xs px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ve.jsx)("option",{value:"all",children:"T\xfcm Kategoriler"}),De.map(((e,t)=>(0,ve.jsx)("option",{value:e,children:e},t)))]})]})]}),(0,ve.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ve.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udccb FAQ Listesi"}),de?(0,ve.jsxs)("div",{className:"text-center py-8",children:[(0,ve.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,ve.jsx)("p",{className:"text-gray-600",children:"FAQ y\xfckleniyor..."})]}):0===se.length?(0,ve.jsxs)("div",{className:"text-center py-12",children:[(0,ve.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ve.jsx)("span",{className:"text-2xl",children:"\u2753"})}),(0,ve.jsx)("p",{className:"text-gray-600",children:"Hen\xfcz FAQ bulunmuyor."}),(0,ve.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:'Otomatik FAQ olu\u015fturmak i\xe7in yukar\u0131daki "\ud83e\udd16 Otomatik FAQ Olu\u015ftur" butonunu kullan\u0131n.'})]}):(0,ve.jsx)("div",{className:"space-y-4",children:se.map(((e,t)=>(0,ve.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,ve.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,ve.jsxs)("div",{className:"flex-1",children:[(0,ve.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:e.question}),(0,ve.jsx)("div",{className:"prose prose-sm max-w-none text-gray-600 mb-3",children:e.answer&&(0,ve.jsx)("p",{className:"line-clamp-3",children:e.answer.length>300?e.answer.substring(0,300)+"...":e.answer})}),e.similar_questions&&e.similar_questions.length>0&&(0,ve.jsxs)("div",{className:"mb-3",children:[(0,ve.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"\ud83d\udd17 Benzer Sorular:"}),(0,ve.jsx)("div",{className:"flex flex-wrap gap-2",children:e.similar_questions.slice(0,3).map(((e,t)=>(0,ve.jsx)("span",{className:"inline-block px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:e.length>50?e.substring(0,50)+"...":e},t)))})]}),(0,ve.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[e.category&&(0,ve.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:["\ud83d\udcc1 ",e.category]}),(0,ve.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:["\ud83d\udd25 ",e.frequency," kez soruldu"]}),e.manual_override&&(0,ve.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-purple-100 text-purple-800",children:"\u270b Manuel"})]})]}),(0,ve.jsx)("div",{className:"flex flex-col items-end space-y-2 ml-4",children:(0,ve.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString("tr-TR")})})]}),(0,ve.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[(0,ve.jsx)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:e.last_updated&&(0,ve.jsxs)("span",{children:["\ud83d\udd52 Son g\xfcncelleme: ",new Date(e.last_updated).toLocaleDateString("tr-TR")]})}),(0,ve.jsx)("div",{className:"flex space-x-2",children:(0,ve.jsx)("button",{onClick:()=>(async(e,t)=>{try{i(!0);const n=await fetch("".concat(Ee,"/api/faq/").concat(e,"/ask"),{method:"POST"}),u=await n.json();if(n.ok){const e={type:"user",content:t,timestamp:(new Date).toLocaleTimeString("tr-TR")},n={type:"ai",content:u.result.answer,contextFound:u.result.context_found,chunksCount:u.result.context_chunks_count,timestamp:(new Date).toLocaleTimeString("tr-TR")};l([e,n]),b("chat"),c(u.result.session_id)}else alert("Hata: ".concat(u.detail||"Bilinmeyen hata"))}catch(n){alert("FAQ sorusu sorulurken hata: ".concat(n.message))}finally{i(!1)}})(e.id,e.question),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"\ud83d\udcad Bu Soruyu Sor"})})]})]},e.id)))})]})]}):(0,ve.jsxs)("div",{className:"space-y-6",children:[(0,ve.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ve.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"\ud83d\udce4 Dok\xfcman Y\xfckleme"}),(0,ve.jsxs)("div",{className:"mb-4",children:[(0,ve.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Y\xfcklenecek Grup:"}),(0,ve.jsxs)("select",{value:E,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,ve.jsx)("option",{value:"all",children:"Grup se\xe7meden y\xfckle"}),h.map((e=>(0,ve.jsxs)("option",{value:e.id,children:["\ud83d\udcc1 ",e.name," (",e.document_count," dok\xfcman)"]},e.id)))]})]}),(0,ve.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:(0,ve.jsxs)("div",{className:"space-y-4",children:[(0,ve.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,ve.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:(0,ve.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc4"})}),(0,ve.jsxs)("div",{children:[(0,ve.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"Word Dok\xfcman\u0131 Y\xfckleyin"}),(0,ve.jsx)("p",{className:"text-gray-600",children:".doc ve .docx formatlar\u0131 desteklenir (Maksimum 10MB)"})]})]}),(0,ve.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,ve.jsx)("input",{id:"fileInput",type:"file",accept:".doc,.docx",onChange:e=>{const t=e.target.files[0];if(t&&(t.name.endsWith(".docx")||t.name.endsWith(".doc"))){const n=10485760;if(t.size>n)return alert("Dosya boyutu \xe7ok b\xfcy\xfck. Maksimum 10MB olmal\u0131d\u0131r."),void(e.target.value="");y(t),C("")}else alert("L\xfctfen sadece .doc veya .docx format\u0131ndaki dosyalar\u0131 se\xe7in."),e.target.value=""},className:"hidden"}),(0,ve.jsx)("label",{htmlFor:"fileInput",className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 cursor-pointer transition-colors",children:"Dosya Se\xe7"}),g&&(0,ve.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ve.jsxs)("span",{className:"text-sm text-gray-600",children:["Se\xe7ilen: ",g.name]}),(0,ve.jsx)("button",{onClick:async()=>{if(!g)return void alert("L\xfctfen bir dosya se\xe7in.");const e=new FormData;e.append("file",g),E&&"all"!==E&&"ungrouped"!==E&&e.append("group_id",E);try{C("Dok\xfcman y\xfckleniyor...");const t=await fetch("".concat(Ee,"/api/upload-document"),{method:"POST",body:e}),n=await t.json();t.ok?(C("\u2705 ".concat(n.message)),n.file_size&&C((e=>e+" (".concat(n.file_size,", ").concat(n.chunk_count," par\xe7a)"))),y(null),document.getElementById("fileInput").value="",setTimeout((()=>{we(),ke(),Be()}),2e3)):C("\u274c Hata: ".concat(n.detail))}catch(t){C("\u274c Y\xfckleme hatas\u0131: ".concat(t.message))}},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Y\xfckle"})]})]}),F&&(0,ve.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,ve.jsx)("p",{className:"text-sm text-gray-700",children:F})})]})})]}),(0,ve.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ve.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ve.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\ud83d\udcc1 Grup Y\xf6netimi"}),(0,ve.jsxs)("div",{className:"space-x-2",children:[(0,ve.jsx)("button",{onClick:()=>B(!0),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"\u2795 Yeni Grup"}),A.length>0&&(0,ve.jsxs)("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:["\ud83d\udcc2 Ta\u015f\u0131 (",A.length,")"]})]})]}),(0,ve.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,ve.jsxs)("button",{onClick:()=>{x("all"),we()},className:"px-3 py-1 rounded-full text-sm ".concat("all"===E?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["\ud83d\udccb T\xfcm\xfc (",D.length,")"]}),(0,ve.jsx)("button",{onClick:()=>{x("ungrouped"),we()},className:"px-3 py-1 rounded-full text-sm ".concat("ungrouped"===E?"bg-gray-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\ud83d\udcc4 Grupland\u0131r\u0131lmam\u0131\u015f"}),h.map((e=>(0,ve.jsxs)("button",{onClick:()=>{x(e.id),we()},className:"px-3 py-1 rounded-full text-sm flex items-center space-x-1 ".concat(E===e.id?"text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),style:{backgroundColor:E===e.id?e.color:void 0},children:[(0,ve.jsx)("span",{children:"\ud83d\udcc1"}),(0,ve.jsxs)("span",{children:[e.name," (",e.document_count,")"]}),(0,ve.jsx)("button",{onClick:t=>{t.stopPropagation(),(async(e,t)=>{if(window.confirm("'".concat(t,"' grubunu silmek istedi\u011finizden emin misiniz? Gruptaki dok\xfcmanlar grupland\u0131r\u0131lmam\u0131\u015f duruma getirilecek.")))try{console.log("Deleting group:",e,t),console.log("Backend URL:",Ee);const n=await fetch("".concat(Ee,"/api/groups/").concat(e,"?move_documents=true"),{method:"DELETE"});console.log("Group delete response status:",n.status);const u=await n.json();console.log("Group delete response data:",u),n.ok?(await Be(),await we(),alert(u.message||"Grup ba\u015far\u0131yla silindi.")):(console.error("Group delete failed:",u),alert("Hata: ".concat(u.detail||u.message||"Bilinmeyen hata")))}catch(n){console.error("Group delete error:",n),alert("Grup silme hatas\u0131: ".concat(n.message))}})(e.id,e.name)},className:"ml-1 text-red-500 hover:text-red-700",title:"Grubu Sil",children:"\u274c"})]},e.id)))]})]}),(0,ve.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,ve.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ve.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\ud83d\udcc1 Y\xfcklenmi\u015f Dok\xfcmanlar"}),(0,ve.jsx)("button",{onClick:we,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"\ud83d\udd04 Yenile"})]}),0===D.length?(0,ve.jsxs)("div",{className:"text-center py-12",children:[(0,ve.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,ve.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc2"})}),(0,ve.jsx)("p",{className:"text-gray-600",children:"Hen\xfcz dok\xfcman y\xfcklenmemi\u015f."}),(0,ve.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Yukar\u0131daki alandan dok\xfcman y\xfckleyebilirsiniz."})]}):(0,ve.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map((e=>{var t;return(0,ve.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,ve.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ve.jsxs)("div",{className:"flex items-start space-x-2 flex-1 min-w-0",children:[(0,ve.jsx)("input",{type:"checkbox",checked:A.includes(e.id),onChange:t=>{t.target.checked?k([...A,e.id]):k(A.filter((t=>t!==e.id)))},className:"mt-1 flex-shrink-0"}),(0,ve.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ve.jsxs)("div",{className:"flex items-start space-x-2 mb-2",children:[(0,ve.jsx)("span",{className:"text-lg flex-shrink-0",children:".doc"===e.file_type?"\ud83d\udcc4":"\ud83d\udcdd"}),(0,ve.jsx)("div",{className:"flex-1 min-w-0",children:(0,ve.jsx)("h3",{className:"text-sm font-medium text-gray-900 leading-tight break-words",title:e.filename,style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word",hyphens:"auto"},children:e.filename})})]}),e.group_name&&(0,ve.jsx)("div",{className:"mb-2",children:(0,ve.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-50 text-blue-700 max-w-full",children:[(0,ve.jsx)("span",{className:"flex-shrink-0",children:"\ud83d\udcc1"}),(0,ve.jsx)("span",{className:"ml-1 truncate",children:e.group_name})]})}),(0,ve.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[(0,ve.jsxs)("div",{className:"flex justify-between",children:[(0,ve.jsx)("span",{className:"flex-shrink-0",children:"Format:"}),(0,ve.jsx)("span",{className:"font-medium",children:null===(t=e.file_type)||void 0===t?void 0:t.toUpperCase()})]}),(0,ve.jsxs)("div",{className:"flex justify-between",children:[(0,ve.jsx)("span",{className:"flex-shrink-0",children:"Boyut:"}),(0,ve.jsx)("span",{className:"font-medium",children:e.file_size_human||"Bilinmiyor"})]}),(0,ve.jsxs)("div",{className:"flex justify-between",children:[(0,ve.jsx)("span",{className:"flex-shrink-0",children:"Par\xe7alar:"}),(0,ve.jsx)("span",{className:"font-medium",children:e.chunk_count||0})]}),(0,ve.jsxs)("div",{className:"flex justify-between",children:[(0,ve.jsx)("span",{className:"flex-shrink-0",children:"Tarih:"}),(0,ve.jsx)("span",{className:"font-medium text-right",children:e.created_at?new Date(e.created_at).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"2-digit"}):"Bilinmiyor"})]}),(0,ve.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ve.jsx)("span",{className:"flex-shrink-0",children:"Durum:"}),(0,ve.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.embeddings_created?"bg-green-100 text-green-800":"failed"===e.upload_status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.embeddings_created?"\u2713 Haz\u0131r":"failed"===e.upload_status?"\u2717 Hata":"\u23f3 \u0130\u015fleniyor"})]}),e.processing_time&&(0,ve.jsxs)("div",{className:"flex justify-between",children:[(0,ve.jsx)("span",{className:"flex-shrink-0",children:"\u0130\u015flem:"}),(0,ve.jsx)("span",{className:"font-medium",children:e.processing_time})]}),e.error_message&&(0,ve.jsxs)("div",{className:"mt-2 p-2 bg-red-50 rounded text-red-700 text-xs break-words",children:[(0,ve.jsx)("strong",{children:"Hata:"})," ",e.error_message]})]})]})]}),(0,ve.jsxs)("div",{className:"ml-2 flex flex-col space-y-1 flex-shrink-0",children:[(0,ve.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Bu dok\xfcman\u0131 silmek istedi\u011finizden emin misiniz?"))try{console.log("Deleting document:",e),console.log("Backend URL:",Ee);const t=await fetch("".concat(Ee,"/api/documents/").concat(e),{method:"DELETE"});console.log("Delete response status:",t.status);const n=await t.json();console.log("Delete response data:",n),t.ok?(await we(),await ke(),alert(n.message||"Dok\xfcman ba\u015far\u0131yla silindi.")):(console.error("Delete failed:",n),alert("Hata: ".concat(n.detail||n.message||"Bilinmeyen hata")))}catch(t){console.error("Delete error:",t),alert("Silme hatas\u0131: ".concat(t.message))}})(e.id),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",title:"Dok\xfcman\u0131 Sil",children:"\ud83d\uddd1\ufe0f"}),(0,ve.jsx)("button",{onClick:()=>Pe(e.id,e.filename),className:"p-1 text-blue-500 hover:bg-blue-50 rounded transition-colors",title:"Orijinal Dosyay\u0131 \u0130ndir",children:"\ud83d\udcce"})]})]})},e.id)}))})]})]})}),w&&(0,ve.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ve.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,ve.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udcc1 Yeni Grup Olu\u015ftur"}),(0,ve.jsxs)("div",{className:"space-y-4",children:[(0,ve.jsxs)("div",{children:[(0,ve.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grup Ad\u0131 *"}),(0,ve.jsx)("input",{type:"text",value:j,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"\u0130nsan Kaynaklar\u0131, Finans, vb."})]}),(0,ve.jsxs)("div",{children:[(0,ve.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A\xe7\u0131klama"}),(0,ve.jsx)("textarea",{value:P,onChange:e=>T(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"Grubun amac\u0131n\u0131 a\xe7\u0131klay\u0131n..."})]}),(0,ve.jsxs)("div",{children:[(0,ve.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Renk"}),(0,ve.jsx)("input",{type:"color",value:z,onChange:e=>L(e.target.value),className:"w-20 h-10 border border-gray-300 rounded-lg"})]})]}),(0,ve.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,ve.jsx)("button",{onClick:()=>{B(!1),_(""),T(""),L("#3b82f6")},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"\u0130ptal"}),(0,ve.jsx)("button",{onClick:async()=>{if(j.trim())try{const e=await fetch("".concat(Ee,"/api/groups"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j,description:P,color:z})}),t=await e.json();e.ok?(_(""),T(""),L("#3b82f6"),B(!1),Be(),alert(t.message)):alert("Hata: ".concat(t.detail))}catch(e){alert("Grup olu\u015fturma hatas\u0131: ".concat(e.message))}else alert("Grup ad\u0131 bo\u015f olamaz.")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Olu\u015ftur"})]})]})}),S&&(0,ve.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ve.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,ve.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["\ud83d\udcc2 Dok\xfcmanlar\u0131 Ta\u015f\u0131 (",A.length," adet)"]}),(0,ve.jsxs)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[(0,ve.jsx)("button",{onClick:()=>_e(null),className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors",children:"\ud83d\udcc4 Grupland\u0131r\u0131lmam\u0131\u015f"}),h.map((e=>(0,ve.jsxs)("button",{onClick:()=>_e(e.id),className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors flex items-center space-x-2",children:[(0,ve.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),(0,ve.jsxs)("span",{children:["\ud83d\udcc1 ",e.name," (",e.document_count,")"]})]},e.id)))]}),(0,ve.jsx)("div",{className:"flex justify-end space-x-3 mt-6",children:(0,ve.jsx)("button",{onClick:()=>{N(!1),k([])},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"\u0130ptal"})})]})})]})};r.createRoot(document.getElementById("root")).render((0,ve.jsx)(u.StrictMode,{children:(0,ve.jsx)(zu,{})}))})()})();
//# sourceMappingURL=main.cc0fd3e5.js.map